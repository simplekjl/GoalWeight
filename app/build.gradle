plugins {
    id 'com.android.application'
    id 'org.jetbrains.kotlin.android'
    id 'kotlin-kapt'
    id 'androidx.navigation.safeargs'
}

apply from: "$rootProject.projectDir/ktlint.gradle"

android {
    compileSdk Configs.compileSdkVersion

    defaultConfig {
        applicationId Configs.applicationId
        minSdk Configs.minSdkVersion
        targetSdk Configs.targetSdkVersion
        versionCode 1
        versionName "1.0"
        buildConfigField "String", "DB_NAME", Configs.db_name
        testInstrumentationRunner "androidx.test.runner.AndroidJUnitRunner"
        vectorDrawables {
            useSupportLibrary true
        }
    }

    buildTypes {
        release {
            minifyEnabled false
            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'
        }
    }
    compileOptions {
        sourceCompatibility JavaVersion.VERSION_11
        targetCompatibility JavaVersion.VERSION_11
    }
    kotlinOptions {
        jvmTarget = JavaVersion.VERSION_11
    }
    buildFeatures {
        viewBinding true
        compose true
    }
    composeOptions {
        kotlinCompilerExtensionVersion compose_version
    }
    packagingOptions {
        resources {
            excludes += '/META-INF/{AL2.0,LGPL2.1}'
        }
    }
    configurations {
        cleanedAnnotations
        implementation.exclude group: 'org.jetbrains', module: 'annotations'
    }
}

dependencies {

    implementation fileTree(dir: 'libs', include: ['*.jar'])

    implementation project(path: ':domain')
    implementation project(path: ':data')
    implementation project(path: ':common:ui')

    implementation AndroidX.lifecycleRuntime
    implementation AndroidX.activityCompose
    implementation AndroidX.appCompat
    implementation AndroidX.core
    implementation AndroidX.annotationLib
    implementation AndroidX.recyclerView
    implementation AndroidX.cardView
    implementation AndroidX.constraintLayout
    implementation AndroidX.activityCompose
    implementation AndroidX.navigationFragment

    implementation Room.paging
    implementation Room.compiler
    implementation Room.runtime
    implementation Room.test

    implementation Net.retrofit
    implementation Net.okHttpLogging

    implementation Google.material

    implementation AndroidLifecycle.viewModel
    implementation AndroidLifecycle.liveData

    implementation Koin.android
    implementation Koin.core
    implementation Koin.compose
    implementation Koin.workManager
    implementation Koin.test

    kapt AndroidLifecycle.compiler

    implementation Compose.ui
    implementation Compose.toolingPreview
    implementation Compose.foundation
    implementation Compose.material
    implementation Compose.lifecycleViewModel
    implementation Compose.runtimeLiveData
    debugImplementation Compose.tooling

    implementation Coroutines.core
    implementation Coroutines.android

    implementation Net.gsonConverter
    implementation Net.moshiKotlin

    debugImplementation Net.chuckerDebug
    releaseImplementation Net.chuckerRelease

    testImplementation TestLib.junit
    implementation External.MPchart

    androidTestImplementation TestLib.androidRunner
    androidTestImplementation TestLib.androidRules
    androidTestImplementation TestLib.espressoCore

    androidTestImplementation Compose.testJunit
    debugImplementation Compose.testManifest
}